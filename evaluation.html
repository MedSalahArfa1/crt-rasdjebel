<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>Evaluation</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="" name="keywords">
        <meta content="" name="description">
    
        <!-- Favicon -->
        <link href="img/icon.ico" rel="icon">
    
        <!-- Google Web Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500&family=Jost:wght@500;600;700&display=swap" rel="stylesheet"> 
    
        <!-- Icon Font Stylesheet -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">
    
        <!-- Libraries Stylesheet -->
        <link href="lib/animate/animate.min.css" rel="stylesheet">
        <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
        <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    
        <!-- Customized Bootstrap Stylesheet -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
    
        <!-- Template Stylesheet -->
        <link href="css/style.css" rel="stylesheet">

        <!-- Include Leaflet CSS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    </head>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0QD46RDRZP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-0QD46RDRZP');
    </script>

    <body style="margin: 0 auto;justify-content: center;">
        <div class="container-fluid bg-white p-0">
            <!-- Spinner Start -->
            <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center" style="overflow-x: hidden;"></div>
            <!-- Spinner End -->
    
    
            <!-- Navbar & Hero Start -->
            <div class="container-fluid position-relative p-0" style="overflow-x: hidden;">
                <nav class="navbar navbar-expand-lg navbar-light px-4 px-lg-5 py-3 py-lg-0">
                    <a href="index.html" class="navbar-brand p-0" style="display: flex; justify-content: center; align-items: center; text-decoration: none;overflow: hidden;">
                        <img src="img/CRT RJ LOGO.png" alt="Logo" style="padding-top: 3px;">
                        <h1 style="margin: 0;">Evaluation</h1>
                    </a>  
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                        <span class="fa fa-bars"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarCollapse">
                        <div class="navbar-nav mx-auto py-0">
                            <a href="index.html" class="nav-item nav-link">Accueil</a>
                            <a href="news.html" class="nav-item nav-link">Actualités</a>
                            <a href="fps.html" class="nav-item nav-link">Premiers secours</a>
                            <a href="donation.html" class="nav-item nav-link">Faire un don</a>
                            <a href="join.html" class="nav-item nav-link">Rejoindre l'équipe</a>
                        </div>
                    </div>
                </nav>
    
                <div class="container-fluid py-1 bg-danger hero-header" style="overflow-x: hidden;">
                    <div class="container-fluid my-5 py-5 px-lg-5">
                        <div class="row g-5 py-5 align-items-center justify-content-center">
                            <div class="col-6 text-center text-lg-center">
                                <h1 class="text-white animated slideInDown text-center">Plateforme d'évaluation</h1>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
            <!-- Navbar & Hero End -->
        </div>

        <div id="login-form" class="form-group" style="margin-top: 5%;">
            <form id="login-form" action=""class="shadow p-4 mb-5 bg-body rounded" style="max-width:450px;margin: auto;">
                <h2 class="text-danger" style="text-align: center;">S'authentifier</h2>
                <label for="username">Nom d'utilisateur:</label>
                <input type="text" id="username" class="form-control" required><br><br>
                <label for="password">Mot de passe:</label>
                <input type="password" id="password" class="form-control" required><br><br>
                <div class="d-flex align-items-center justify-content-center">
                    <button type="button" onclick="login()" class="btn btn-danger">Login</button>
                </div>
            </form>
        </div>

        <div id="content" style="display: none;">
            <div class="container-fluid py-5">
                <div class="container-fluid py-5 px-lg-5">
                    <div class="text-center">
                        <h1 class="text-danger mb-2">Ajouter une nouvelle famille</h1>
                        <h3 class="text-dark mb-2">Remplissez cette formulaire</h3>
                        <p class="text-black-50 mb-0">* Indique un champ obligatoire</p>
                    </div>
                    <br/>
                    <form style="max-width: fit-content;align-items: center;margin: auto;"
                    action="https://docs.google.com/forms/u/0/d/e/*******/formResponse" method="POST" target="_blank">
                        <div class="row" style="margin-bottom: 25px;">
                            <div class="col">
                                <label for="firstName"><strong>Prénom *</strong></label>
                                <input type="text" class="form-control" name="entry.831306407" placeholder="" required>
                            </div>
                            <div class="col">
                                <label for="lastName"><strong>Nom *</strong></label>
                                <input type="text" class="form-control" name="entry.2005620554" placeholder="" required>
                            </div>
                        </div>
                        <div class="row" style="margin-bottom: 25px;">
                            <div class="col">
                                <label for="dob"><strong>Date de naissance *</strong></label>
                                <input type="date" class="form-control" name="entry.1594964070" placeholder="Date de naissance" required>
                            </div>
                        </div>
                        <div class="row" style="margin-bottom: 25px;">
                            <div class="col">
                                <label for="location"><strong>Adresse *</strong></label>
                                <button onclick="getLocation()" class="btn btn-danger" style="margin-bottom: 10px;">Get Location</button>
                                <input type="text" class="form-control" name="entry.1065046570" id="location" readonly required hidden>
                                <div id="map" style="height: 400px;z-index: -1;border-radius: 10px;"></div>
                            </div>
                        </div>
                        <div class="row" style="margin-bottom: 25px;">
                            <div class="col">
                                <label for="email"><strong>Adresse E-mail *</strong></label>
                                <input type="email" class="form-control" name="entry.1045781291" placeholder="exemple@exemple.com" required>
                            </div>
                        </div>
                        <div class="row" style="margin-bottom: 25px;">
                            <div class="col">
                                <label for="phone"><strong>Numéro de téléphone</strong></label>
                                <input type="text" class="form-control" name="entry.1166974658" placeholder="">
                            </div>
                        </div>
                        <div class="row" style="margin-bottom: 25px;">
                            <div class="col">
                                <label for="experience"><strong>Avez-vous déjà participé à des associations ? Si oui, pouvez-vous en citer ?</strong></label>
                                <textarea class="form-control" name="entry.780236232" placeholder="Nom d'une association, club ..."></textarea>
                            </div>
                        </div>
                        <div class="row" style="margin-bottom: 25px;">
                            <div class="col">
                                <label for="motivations"><strong>Vos motivations pour rejoindre l'équipe *</strong></label>
                                <textarea class="form-control" name="entry.839337160" placeholder="Exprimez-vous..." required></textarea>
                            </div>
                        </div>
                        <div class="d-flex align-items-center justify-content-center">
                            <button class="btn btn-danger" type="submit">Envoyer</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- JavaScript Libraries -->
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="lib/wow/wow.min.js"></script>
        <script src="lib/easing/easing.min.js"></script>
        <script src="lib/waypoints/waypoints.min.js"></script>
        <script src="lib/counterup/counterup.min.js"></script>
        <script src="lib/owlcarousel/owl.carousel.min.js"></script>
        <script src="lib/isotope/isotope.pkgd.min.js"></script>
        <script src="lib/lightbox/js/lightbox.min.js"></script>

        <!-- Template Javascript -->
        <script src="js/main.js"></script>

        <!-- Login Javascript -->
        <script>
            function login() {
                var username = document.getElementById("username").value;
                var password = document.getElementById("password").value;
                
                // Check if the entered username and password are correct
                if (username === "responsable" && password === "0") {
                    document.getElementById("login-form").style.display = "none";
                    document.getElementById("content").style.display = "block";
                } else {
                    alert("Invalid username or password. Please try again.");
                }
            }
        </script>

         <!-- Include Leaflet JavaScript -->
        <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
        <script>
            var map = L.map('map').setView([0, 0], 2); // Initial map view
            var marker; // Declare marker variable outside of showPosition function

            // Add a base map layer
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            function getLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showPosition);
                } else {
                    document.getElementById("location").value = "Geolocation is not supported by this browser.";
                }
            }

            function showPosition(position) {
                var location = [position.coords.latitude, position.coords.longitude];
                document.getElementById("location").value = location;

                // Remove previous marker, if any
                if (marker) {
                    map.removeLayer(marker);
                }

                // Add a marker to the map
                marker = L.marker(location).addTo(map);
                map.setView(location, 15); // Set map view to the location with zoom level 15
            }
        </script>

    </body>
</html>
